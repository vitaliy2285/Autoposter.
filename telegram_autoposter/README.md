# Telegram Autoposter (Self-Hosted)

–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π Telegram-–±–æ—Ç –¥–ª—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Å—Ç–∏–Ω–≥–∞ –≤ –∫–∞–Ω–∞–ª:
- –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç—ã –≤ —Å—Ç–∏–ª–µ –æ–ø—ã—Ç–Ω–æ–≥–æ –±–ª–æ–≥–µ—Ä–∞ —á–µ—Ä–µ–∑ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—É—é LLM;
- –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ Kandinsky 3.1;
- –ø—É–±–ª–∏–∫—É–µ—Ç –ø–æ—Å—Ç—ã –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é;
- —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ Telegram-–∞–¥–º–∏–Ω–∫—É (–∫–æ–º–∞–Ω–¥—ã + inline-–∫–Ω–æ–ø–∫–∏).

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ü–æ–ª–Ω—ã–π –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –≤—Ä–µ–º–µ–Ω–∞–º –≤ —Å—É—Ç–∫–∏.
- –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã, —Ç–æ–Ω–∞ –∏ ¬´–Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è¬ª –ø–æ—Å—Ç–æ–≤.
- –ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞: –∑–∞–≥–æ–ª–æ–≤–æ–∫, —ç–º–æ–¥–∑–∏, —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞, —Å–ø–∏—Å–∫–∏, —Ö–µ—à—Ç–µ–≥–∏.
- –ê–Ω—Ç–∏–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 –ø–æ—Å—Ç–æ–≤.
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥–µ–ª–∏ —Ç–µ–∫—Å—Ç–∞ –∏ –æ—Ç–¥–µ–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏ –¥–ª—è image prompt (—ç–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤).
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π (5 –ú–ë √ó 3 —Ñ–∞–π–ª–∞).
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–¥–º–∏–Ω–∫–∞: –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ ADMIN_IDS.

## –ü—Ä–∏–º–µ—Ä –ø–æ—Å—Ç–∞ (—Å—Ö–µ–º–∞)
**üî•‚ö°Ô∏è –£—é—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–¥–∞—ë—Ç: 5 –¥–µ—Ç–∞–ª–µ–π –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞**

–ö–æ—Ä–æ—Ç–∫–æ–µ –∏–Ω—Ç—Ä–æ, –ø–æ–Ω—è—Ç–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è —á–∏—Ç–∞—Ç–µ–ª—è.

‚ú¶ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—É–Ω–∫—Ç 1
‚ú¶ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—É–Ω–∫—Ç 2

–í–æ–≤–ª–µ–∫–∞—é—â–∏–π —Ñ–∏–Ω–∞–ª + —Ö–µ—à—Ç–µ–≥–∏.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
- Python 3.10+
- RAM: –æ—Ç 2 –ì–ë
- –î–∏—Å–∫: –æ—Ç 10 –ì–ë
- –°—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç

## –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π –∏ –¥–∞–Ω–Ω—ã—Ö
1. **BOT_TOKEN**: —Å–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather).
2. **OpenAI API**: –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á —É OpenAI –∏–ª–∏ –ª—é–±–æ–≥–æ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.
3. **Kandinsky / FusionBrain**:
   - —Å–∞–π—Ç: https://fusionbrain.ai/
   - –ø–æ–ª—É—á–∏—Ç—å API key/Secret key (—Ä–µ–∂–∏–º `api`) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å email+password (—Ä–µ–∂–∏–º `web`).
4. **–í–∞—à Telegram ID**: —É–∑–Ω–∞—Ç—å —á–µ—Ä–µ–∑ [@userinfobot](https://t.me/userinfobot).

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
cd telegram_autoposter
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
cp .env.example .env
# –∑–∞–ø–æ–ª–Ω–∏—Ç–µ .env
python src/main.py
```

## –ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/start`.
2. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
   - `/set_channel @my_channel`
   - `/set_topic –¥–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞`
   - `/set_times 09:00,15:00,21:00`
   - `/set_tone`
   - `/set_style`
   - `/toggle`

## –ö–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- `/start` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥.
- `/set_topic <—Ç–µ–º–∞>` ‚Äî —Ç–µ–º–∞ –∫–∞–Ω–∞–ª–∞.
- `/set_times <09:00,15:00,21:00>` ‚Äî –≤—Ä–µ–º–µ–Ω–∞ –ø–æ—Å—Ç–∏–Ω–≥–∞.
- `/set_tone` ‚Äî –≤—ã–±–æ—Ä —Ç–æ–Ω–∞.
- `/set_mood` ‚Äî –≤—ã–±–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è (—É—Ç—Ä–µ–Ω–Ω–∏–π/–≤–µ—á–µ—Ä–Ω–∏–π/–ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π).
- `/set_style` ‚Äî —Å—Ç–∏–ª—å Kandinsky.
- `/set_image_size <width> <height>` ‚Äî —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
- `/set_auth_kandinsky` ‚Äî –ø–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Kandinsky.
- `/set_openai` ‚Äî –ø–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ OpenAI URL/–∫–ª—é—á–∞/–º–æ–¥–µ–ª–µ–π.
- `/set_channel <@channel|ID>` ‚Äî –∫–∞–Ω–∞–ª –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.
- `/toggle` ‚Äî –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥.
- `/post_now` ‚Äî –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è —Ç–µ—Å—Ç–æ–≤–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è.
- `/stats` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫.
- `/settings` ‚Äî —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
- `/reset` ‚Äî —Å–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫ `.env`.
- `/test_format <—Ç–µ–∫—Å—Ç>` ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä—É—á–Ω—É—é.

## –°–æ–≤–µ—Ç—ã –ø–æ –∫–∞—á–µ—Å—Ç–≤—É
- –î–ª—è —Ç–µ–∫—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—É—é –º–æ–¥–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `gpt-5.2`).
- –î–ª—è image prompt –º–æ–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –¥–µ—à—ë–≤—É—é –º–æ–¥–µ–ª—å.
- –í–∞—Ä—å–∏—Ä—É–π—Ç–µ `tone` –∏ `mood` –¥–ª—è ¬´–∂–∏–≤–æ–≥–æ¬ª –∫–æ–Ω—Ç–µ–Ω—Ç–∞.
- –î–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ `KANDINSKY_STYLE` –∏ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω.

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- **–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `BOT_TOKEN`, `ADMIN_IDS`, –ª–æ–≥–∏ –≤ `logs/bot.log`.
- **–ù–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–π**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `/toggle`, `/set_channel`, –ø—Ä–∞–≤–∞ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª–µ.
- **–û—à–∏–±–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ auth Kandinsky –∏ —Å–µ—Ç—å.
- **–ü—É—Å—Ç–æ–π/–æ–¥–Ω–æ—Ç–∏–ø–Ω—ã–π —Ç–µ–∫—Å—Ç**: —É—Ç–æ—á–Ω–∏—Ç–µ —Ç–µ–º—É, —Ç–æ–Ω, –º–æ–¥–µ–ª—å, –ø—Ä–æ–º–ø—Ç—ã.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞
–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã (Telegram/email) –¥–ª—è –ø–ª–∞—Ç–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è.
